<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lembaga Negara & Demokrasi Pancasila</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React and ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Lucide Icons CDN -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap');
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
        }
    </style>
</head>
<body class="bg-slate-900">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Komponen Icon yang diperbaiki untuk menggunakan Lucide CDN secara benar
        const Icon = ({ name, size = 24, className = "" }) => {
            const iconRef = useRef(null);

            useEffect(() => {
                if (window.lucide && iconRef.current) {
                    // Membersihkan konten sebelumnya
                    iconRef.current.innerHTML = '';
                    
                    // Membuat elemen i untuk Lucide
                    const iconElement = document.createElement('i');
                    iconElement.setAttribute('data-lucide', name);
                    if (className) iconElement.className = className;
                    iconElement.style.width = `${size}px`;
                    iconElement.style.height = `${size}px`;
                    
                    iconRef.current.appendChild(iconElement);
                    
                    // Menjalankan createIcons hanya pada elemen ini
                    window.lucide.createIcons({
                        attrs: {
                            'stroke-width': 2,
                            width: size,
                            height: size
                        }
                    });
                }
            }, [name, size, className]);

            return <span ref={iconRef} className="inline-flex items-center justify-center" />;
        };

        const App = () => {
            const [selectedNode, setSelectedNode] = useState(null);

            const data = {
                title: "Lembaga Negara & Demokrasi Pancasila",
                color: "bg-indigo-600",
                description: "Analisis definisi, kedudukan, fungsi lembaga negara, serta praktik demokrasi di Indonesia.",
                children: [
                    {
                        id: "definisi",
                        title: "Definisi & Kedudukan",
                        iconName: "book-open",
                        color: "bg-slate-600",
                        details: "Lembaga negara adalah organ pemerintahan yang menjalankan fungsi kenegaraan sesuai UUD NRI 1945. Kedudukannya bersifat mandiri namun saling berhubungan (check and balances) berdasarkan prinsip kedaulatan rakyat.",
                        items: [
                            "Definisi: Organ pengelola kekuasaan negara",
                            "Kedudukan: Sejajar dan Mandiri (Horisontal)",
                            "Fungsi: Menjalankan kedaulatan sesuai tugas (Legislatif, Eksekutif, Yudikatif)",
                            "Landasan: Berdasarkan hukum dan konstitusi"
                        ]
                    },
                    {
                        id: "politik",
                        title: "Peran Politik",
                        iconName: "gavel",
                        color: "bg-blue-500",
                        details: "Menganalisis peran lembaga (MPR, DPR, MK) dalam menjaga stabilitas politik, menciptakan UU, dan mengawal konstitusi agar hak politik rakyat terpenuhi.",
                        items: [
                            "DPR: Membuat UU & Pengawasan Anggaran",
                            "MK: Menjaga Konstitusionalitas Hukum",
                            "KPU: Penyelenggara sirkulasi kekuasaan",
                            "Stabilitas: Mencegah penyalahgunaan kekuasaan"
                        ]
                    },
                    {
                        id: "ekonomi",
                        title: "Peran Ekonomi",
                        iconName: "trending-up",
                        color: "bg-emerald-500",
                        details: "Presiden, BPK, dan Bank Indonesia bekerja dalam pengelolaan keuangan negara, pengendalian moneter, dan memastikan keadilan ekonomi bagi seluruh rakyat.",
                        items: [
                            "Pengelolaan APBN untuk kesejahteraan",
                            "Audit transparansi keuangan oleh BPK",
                            "BI: Menjaga kestabilan nilai rupiah",
                            "Pembangunan ekonomi yang inklusif"
                        ]
                    },
                    {
                        id: "sosbud",
                        title: "Sosial & Budaya",
                        iconName: "users",
                        color: "bg-amber-500",
                        details: "Menjamin hak warga negara atas pendidikan, kesehatan, dan perlindungan warisan budaya bangsa sebagai identitas nasional.",
                        items: [
                            "Pemajuan Kebudayaan Nasional",
                            "Penyelenggaraan Pendidikan bermutu",
                            "Jaminan Sosial Masyarakat (Kesehatan/Ketenagakerjaan)",
                            "Perlindungan hak-hak minoritas"
                        ]
                    },
                    {
                        id: "hankam",
                        title: "Pertahanan & Keamanan",
                        iconName: "shield-check",
                        color: "bg-rose-500",
                        details: "Analisis peran TNI (Pertahanan Negara) dan POLRI (Ketertiban Masyarakat) dalam menjaga keutuhan NKRI dan perlindungan hukum bagi setiap warga.",
                        items: [
                            "TNI: Melindungi kedaulatan dari ancaman luar",
                            "POLRI: Menjamin keamanan domestik",
                            "Sistem Pertahanan Keamanan Rakyat Semesta",
                            "Penegakan Hak Asasi Manusia dalam keamanan"
                        ]
                    },
                    {
                        id: "demokrasi",
                        title: "Makna & Praktik Demokrasi",
                        iconName: "heart-handshake",
                        color: "bg-purple-500",
                        details: "Mengidentifikasi demokrasi Pancasila sebagai pemerintahan dari, oleh, dan untuk rakyat yang dipandu oleh nilai ketuhanan, kemanusiaan, persatuan, dan keadilan.",
                        items: [
                            "Makna: Kedaulatan rakyat melalui hikmat kebijaksanaan",
                            "Praktik: Musyawarah mufakat di lingkungan sekolah/desa",
                            "Pemilu: Partisipasi aktif tanpa tekanan",
                            "Kritik Konstruktif terhadap kebijakan publik"
                        ]
                    }
                ]
            };

            return (
                <div className="min-h-screen bg-slate-900 text-slate-100 p-4 md:p-8">
                    <header className="max-w-6xl mx-auto text-center mb-12">
                        <div className="inline-block relative p-1 rounded-2xl bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 shadow-2xl">
                            <div className="bg-slate-900/90 backdrop-blur-md px-10 py-8 rounded-[calc(1rem-1px)] border border-white/10">
                                <h1 className="text-3xl md:text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-white to-slate-400">
                                    Lembaga Negara & Praktik Demokrasi
                                </h1>
                                <div className="h-1 w-24 bg-indigo-500 mx-auto rounded-full mt-4"></div>
                            </div>
                        </div>
                        <p className="mt-8 text-slate-400 text-base max-w-xl mx-auto leading-relaxed opacity-80">
                            "{data.description}"
                        </p>
                    </header>

                    <main className="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8 items-start">
                        <div className="lg:col-span-2 flex flex-col items-center">
                            <div className="relative group mb-12">
                                <div className={`p-6 rounded-2xl ${data.color} shadow-xl shadow-indigo-500/20 text-center transform transition duration-300 group-hover:scale-105 border-2 border-white/20 w-72`}>
                                    <div className="flex justify-center mb-3 text-white">
                                        <Icon name="globe" size={40} />
                                    </div>
                                    <h2 className="text-xl font-bold leading-tight">{data.title}</h2>
                                </div>
                            </div>

                            <div className="grid grid-cols-1 sm:grid-cols-2 gap-6 w-full px-4">
                                {data.children.map((child) => (
                                    <button
                                        key={child.id}
                                        onClick={() => setSelectedNode(child)}
                                        className={`flex items-center p-5 rounded-2xl ${child.color} ${selectedNode?.id === child.id ? 'ring-4 ring-white/50 scale-105' : 'opacity-85 hover:opacity-100 hover:scale-102'} transition-all duration-300 text-left shadow-lg group relative overflow-hidden`}
                                    >
                                        <div className="bg-white/20 p-4 rounded-xl mr-5 group-hover:bg-white/30 transition-colors z-10 text-white">
                                            <Icon name={child.iconName} size={24} />
                                        </div>
                                        <div className="flex-1 z-10">
                                            <h3 className="font-bold text-lg leading-tight">{child.title}</h3>
                                            <div className="flex items-center text-xs text-white/80 mt-2 font-medium">
                                                Lihat Analisis <Icon name="chevron-right" size={14} className="ml-1" />
                                            </div>
                                        </div>
                                    </button>
                                ))}
                            </div>
                        </div>

                        <div className="bg-slate-800 rounded-[2.5rem] p-8 border border-slate-700 shadow-2xl sticky top-8 min-h-[550px] transition-all duration-500">
                            {!selectedNode ? (
                                <div className="flex flex-col items-center justify-center h-full text-center space-y-6 py-20">
                                    <div className="bg-slate-700/50 p-6 rounded-full border border-slate-600 text-indigo-400">
                                        <Icon name="info" size={48} />
                                    </div>
                                    <div>
                                        <h3 className="text-2xl font-bold text-slate-200">Pilih Topik Analisis</h3>
                                        <p className="text-slate-400 mt-3 px-4">Ketuk salah satu cabang peta pikiran untuk mempelajari kedudukan, fungsi, dan praktik demokrasi secara mendalam.</p>
                                    </div>
                                </div>
                            ) : (
                                <div className="animate-in fade-in slide-in-from-right-8 duration-500">
                                    <div className="flex items-center justify-between mb-8">
                                        <div className={`inline-flex items-center justify-center p-4 rounded-3xl ${selectedNode.color} shadow-lg shadow-black/20 text-white`}>
                                            <Icon name={selectedNode.iconName} size={32} />
                                        </div>
                                        <span className="text-xs font-black uppercase tracking-widest text-slate-500 bg-slate-900 px-3 py-1 rounded-full">Detail Materi</span>
                                    </div>
                                    
                                    <h2 className="text-3xl font-extrabold mb-6 text-white leading-tight">{selectedNode.title}</h2>
                                    
                                    <div className="p-5 bg-indigo-500/10 rounded-2xl border-l-4 border-indigo-500 mb-8">
                                        <p className="text-slate-200 leading-relaxed text-base font-medium">
                                            {selectedNode.details}
                                        </p>
                                    </div>
                                    
                                    <h4 className="text-sm font-bold tracking-widest text-slate-400 uppercase mb-4 flex items-center">
                                        <Icon name="check-circle-2" size={16} className="mr-2 text-indigo-400" /> 
                                        Point Analisis & Praktik:
                                    </h4>
                                    
                                    <ul className="space-y-4">
                                        {selectedNode.items.map((item, idx) => (
                                            <li key={idx} className="group flex items-start bg-slate-900/40 p-4 rounded-2xl border border-slate-700/50 hover:border-indigo-500/50 transition-colors">
                                                <div className={`mt-1.5 w-3 h-3 rounded-full ${selectedNode.color} mr-4 shrink-0 shadow-[0_0_10px_rgba(0,0,0,0.3)]`}></div>
                                                <span className="text-slate-300 text-[15px] leading-relaxed group-hover:text-white transition-colors">{item}</span>
                                            </li>
                                        ))}
                                    </ul>
                                </div>
                            )}
                        </div>
                    </main>

                    <footer className="max-w-6xl mx-auto mt-20 pt-8 border-t border-slate-800/50 flex flex-col md:flex-row justify-between items-center gap-4 text-slate-500 text-sm mb-8">
                        <p className="flex items-center gap-2 font-medium bg-slate-800 px-4 py-2 rounded-full">
                            Lembaga Negara & Demokrasi
                        </p>
                        <p className="italic opacity-60 text-center">"Kedaulatan berada di tangan rakyat dan dilaksanakan menurut UUD."</p>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
